import{e as u,d as y,f as p,j as f,w,c as l,g as V,v as k,a as e,F as D,r as N,b as n,t as r,i as g,o as c}from"./main-D-xxpp6D.js";const T={class:"p-5"},C=e("h2",{class:"text-2xl font-black mb-5"},"Vales por Fecha",-1),F={key:0,class:"space-y-3"},A={class:"text-gray-700"},B={class:"font-bold"},E={class:"text-gray-700"},M={class:"font-bold"},S={class:"text-gray-700"},L={class:"font-bold"},U={key:1},$=e("p",{class:"text-gray-500"},"No se encontraron vales para la fecha seleccionada.",-1),j=[$],I={class:"text-white text-2xl text-right mt-10"},R={class:"text-blue-500"},q={class:"text-white text-2xl text-right"},z={class:"text-blue-500"},G={class:"text-white text-2xl text-right"},H={class:"text-blue-500"},O={__name:"Vouchers",setup(J){const s=u(""),d=u([]),h=u(null),i=y(),_=p(()=>(i.userAppointments||[]).reduce((t,a)=>t+(a.totalAmount||0),0)),v=p(()=>(i.userVouchers||[]).reduce((t,a)=>t+(a.amount||0),0)),m=p(()=>_.value-v.value),b=async()=>{if(h.value)try{const t=await g.get("https://app-salon-mevn-backend-one.vercel.app/vouchers",{params:{date:h.value},withCredentials:!0});i.userVouchers=t.data,d.value=t.data}catch(t){console.error("Error al obtener los vales:",t)}},x=async()=>{if(s.value)try{const{data:t}=await g.get("https://app-salon-mevn-backend-one.vercel.app/vouchers",{params:{date:s.value},withCredentials:!0});d.value=t}catch(t){console.error("Error al obtener los vales:",t)}};return f(()=>{s.value&&x()}),w(s,x),(t,a)=>(c(),l("div",T,[C,V(e("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=o=>s.value=o),class:"mb-5 p-2 border border-gray-300 rounded-lg",onChange:b},null,544),[[k,s.value]]),d.value.length?(c(),l("div",F,[(c(!0),l(D,null,N(d.value,o=>(c(),l("div",{key:o._id,class:"p-4 bg-white rounded-lg shadow"},[e("p",A,[n("Monto: "),e("span",B,r(o.amount),1)]),e("p",E,[n("Fecha: "),e("span",M,r(new Date(o.date).toLocaleDateString()),1)]),e("p",S,[n("Descripción: "),e("span",L,r(o.description),1)])]))),128))])):(c(),l("div",U,j)),e("p",I,[n(" Total de Ingresos: "),e("span",R,r(_.value),1)]),e("p",q,[n(" Total de Vales: "),e("span",z,r(v.value),1)]),e("p",G,[n(" Total Neto del Día: "),e("span",H,r(m.value),1)])]))}};export{O as default};
