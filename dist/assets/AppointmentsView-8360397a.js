import{o as e,c as s,a as t,e as c,t as a,b as u,F as m,f as g,u as b,g as y,h as _,w as k,i as D,v as w,j as A}from"./index-73e3db28.js";import{d as $}from"./date-2980fb59.js";import{f as x}from"./index-6e1818aa.js";const S={class:"bg-white p-5 space-y-3 rounded-lg"},T={class:"text-gray-500 font-black"},B={class:"font-light"},C={class:"font-light"},F={class:"text-gray-500 font-black"},N={class:"font-light"},V={class:"font-light"},O=t("p",{class:"text-lg font-black"},"Servicios Solicitados en la cita",-1),j={class:"text-2xl font-black text-blue-500"},E={class:"text-2xl font-black text-right"},H={class:"text-blue-600"},I={__name:"AdminAppointment",props:{appointment:{type:Object}},setup(n){return(d,l)=>(e(),s("div",S,[t("p",T,[c(" Fecha: "),t("span",B,a(u($)(n.appointment.date)),1),c(" Hora: "),t("span",C,a(n.appointment.time)+" Horas.",1)]),t("p",F,[c(" Nombre Cliente: "),t("span",N,a(n.appointment.user.name),1),c(" Email: "),t("span",V,a(n.appointment.user.email),1)]),O,(e(!0),s(m,null,g(n.appointment.services,p=>(e(),s("div",null,[t("p",null,a(p.name),1),t("p",j,a(u(x)(p.price)),1)]))),256)),t("p",E,[c(" Total a pagar: "),t("span",H,a(u(x)(n.appointment.totalAmount)),1)])]))}},U=t("p",{class:"text-white text-lg mt-5"}," A continuación podrás administrar tus próximas citas ",-1),L={class:"mt-5"},M=t("label",{for:"date",class:"block text-white text-lg"},"Selecciona una fecha:",-1),q={key:0,class:"text-white text-2xl text-center mt-5"},z={key:1},G={key:0,class:"text-white text-2xl text-center mt-5"},J={key:1},K={class:"grid grid-cols-1 gap-5 mt-10"},P={class:"text-white text-2xl text-right mt-10"},Q={class:"text-blue-500"},tt={__name:"AppointmentsView",setup(n){const d=b(),l=y(null),p=_(()=>(d.userAppointments||[]).reduce((r,o)=>r+(o.totalAmount||0),0)),f=(r,o)=>{if(!o)return r;const i=new Date(o).toISOString().split("T")[0];return r.filter(v=>new Date(v.date).toISOString().split("T")[0]===i)},h=_(()=>f(d.userAppointments||[],l.value));return k(l,()=>{console.log("Fecha seleccionada:",l.value)}),(r,o)=>(e(),s(m,null,[U,t("div",L,[M,D(t("input",{type:"date",id:"date","onUpdate:modelValue":o[0]||(o[0]=i=>l.value=i),class:"border border-gray-300 p-2 rounded"},null,512),[[w,l.value]])]),u(d).loading?(e(),s("p",q," Cargando... ")):(e(),s("div",z,[h.value.length===0?(e(),s("p",G," No tienes próximas citas para la fecha seleccionada ")):(e(),s("div",J,[t("div",K,[(e(!0),s(m,null,g(h.value,i=>(e(),A(I,{key:i._id,appointment:i},null,8,["appointment"]))),128))]),t("p",P,[c(" Total acumulado del Día: "),t("span",Q,a(p.value),1)])]))]))],64))}};export{tt as default};
