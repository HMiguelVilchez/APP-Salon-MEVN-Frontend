import{e as p,j as k,c as v,a as e,g,v as h,t as m,k as $,F as E,r as I,i as l,o as b,p as M,l as C}from"./main-D-xxpp6D.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const c=a=>(M("data-v-60118416"),a=a(),C(),a),D=c(()=>e("h2",{class:"text-3xl font-bold mb-4"},"Gestionar Servicios",-1)),F={class:"mb-4"},U=c(()=>e("label",{for:"name",class:"block text-gray-700"},"Nombre del Servicio:",-1)),V={class:"mb-4"},j=c(()=>e("label",{for:"price",class:"block text-gray-700"},"Precio del Servicio:",-1)),A={type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded"},N=c(()=>e("h3",{class:"text-2xl font-bold mt-8 mb-4"},"Servicios Disponibles",-1)),z=["onClick"],G=["onClick"],L={__name:"ManageServices",setup(a){const r=p({name:"",price:""}),_=p([]),i=p(!1);let d=null;const n="https://app-salon-mevn-backend-one.vercel.app/",u=async()=>{try{const{data:t}=await l.get(`${n}services`);_.value=t}catch(t){console.error("Error fetching services:",t)}},f=async()=>{try{i.value?await l.put(`${n}services/${d}`,r.value):await l.post(`${n}services`,r.value),u(),S()}catch(t){console.error("Error saving service:",t)}},y=t=>{r.value={...t},i.value=!0,d=t._id},x=async t=>{try{await l.delete(`${n}services/${t}`),u()}catch(o){console.error("Error deleting service:",o)}},S=()=>{r.value={name:"",price:""},i.value=!1,d=null};return k(()=>{u()}),(t,o)=>(b(),v("div",null,[D,e("form",{onSubmit:$(f,["prevent"])},[e("div",F,[U,g(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=s=>r.value.name=s),class:"w-full p-2 border border-gray-300 rounded"},null,512),[[h,r.value.name]])]),e("div",V,[j,g(e("input",{type:"number",id:"price","onUpdate:modelValue":o[1]||(o[1]=s=>r.value.price=s),class:"w-full p-2 border border-gray-300 rounded"},null,512),[[h,r.value.price]])]),e("button",A,m(i.value?"Actualizar Servicio":"Agregar Servicio"),1)],32),N,e("ul",null,[(b(!0),v(E,null,I(_.value,s=>(b(),v("li",{key:s._id,class:"flex justify-between items-center bg-gray-100 p-2 mb-2 rounded"},[e("span",null,m(s.name)+" - $"+m(s.price),1),e("div",null,[e("button",{class:"bg-green-500 text-white px-3 py-1 rounded mr-2",onClick:w=>y(s)}," Editar ",8,z),e("button",{class:"bg-red-500 text-white px-3 py-1 rounded",onClick:w=>x(s._id)}," Eliminar ",8,G)])]))),128))])]))}},q=B(L,[["__scopeId","data-v-60118416"]]);export{q as default};
